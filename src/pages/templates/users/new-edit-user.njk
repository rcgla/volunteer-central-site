{%- extends 'base/base.njk' -%}
{%- block content -%}

<main>
    <h2>{{title}}</h2>
    <form method="POST" action="{{postEndpoint}}">

        <div>
            <label for="name">Name</label>
            <input type="text" name="name" id="name" value="{%- if user -%}{{user.name}}{%- endif -%}">
        </div>

        <div>
            <label for="type">Type</label>
            <select name="type" id="type">
                {%- for value in types -%}
                <option value="{{value}}" 
                    selected="{%- if user -%}{%- if user.type == value -%}selected{%- endif -%}">
                    {%- if value == "CLIENT" -%}
                    Camper
                    {%- elif value == "STAFF" -%}
                    Volunteer
                    {%- elif value == "ADMIN" -%}
                    Admin
                    {%- endif -%}
                </option>
                {%- endfor -%}
            </select>
        </div>

        <div>
            <label for="phone">Phone</label>
            <input type="tel" name="phone" id="phone" value="{%- if user -%}user.phone{%- endif -%}>
        </div>

        <div>
            <label for="address">Address</label>
            <input type="text" name="address" id="address">
        </div>

        <div>
            <label for="bio">Bio</label>
            <textarea rows="10" name="bio" id="bio"></textarea>
        </div>

        <div>
            <label for="email">Email</label>
            <input type="email" name="email" id="email">
        </div>

        <div>
            <label for="food-allergies">Food allergies</label>
            <textarea rows="5" name="food-allergies" id="food-allergies"></textarea>
        </div>

        <div>
            <label for="medical">Medical</label>
            <textarea rows="5" name="medical" id="medical"></textarea>
        </div>

        <div>
            <label for="tshirt-size">T-shirt size</label>
            <select name="tshirt-size" id="tshirt-size">
                {%- for size in tShirtSizes -%}
                <option value="{{size.id}}">{{size.name}}</option>
                {%- endfor -%}
            </select>
        </div>

        <div>
            <label for="mealpref">Meal preference</label>
            <select name="mealpref" id="mealpref">
                {%- for value in mealprefs -%}
                <option value="{{value}}">
                    {%- if value == "OMNIVORE" -%}
                    Omnivore
                    {%- elif value == "VEGETARIAN" -%}
                    Vegetarian
                    {%- elif value == "VEGAN" -%}
                    Vegan
                    {%- endif -%}
                </option>
                {%- endfor -%}
            </select>
        </div>

        <div>
            <label for="handed">Handed</label>
            <select name="handed" id="handed">
                {%- for value in handeds -%}
                <option value="{{value}}">
                    {%- if value == "LEFT" -%}
                    Left
                    {%- elif value == "RIGHT" -%}
                    Right
                    {%- else -%}
                    Other
                    {%- endif -%}
                </option>
                {%- endfor -%}
            </select>
        </div>

        <div class="actions">
            <input type="submit" value="Save">
        </div>
    </form>
</main>

{%- endblock -%}